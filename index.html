<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Velora Store</title>

  <style>
    :root{
      /* ===== Brand Theme (cream + gold + graphite) ===== */
      --bg0:#0b0d10;
      --bg1:#0f1218;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.10);
      --stroke2: rgba(255,255,255,.16);
      --text:#e9ecf2;
      --muted: rgba(233,236,242,.72);

      --gold1:#f7d77a;
      --gold2:#caa64a;

      --cream1:#f6efe7;
      --cream2:#e9dccb;

      --shadow: 0 24px 70px rgba(0,0,0,.55);
      --shadow2: 0 16px 40px rgba(0,0,0,.45);
      --r: 18px;
      --r2: 26px;

      --max: 1120px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(900px 500px at 20% 0%, rgba(247,215,122,.12), transparent 60%),
        radial-gradient(900px 550px at 90% 20%, rgba(246,239,231,.10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    a{ color:inherit; text-decoration:none; }
    button{ font-family:inherit; }

    /* ===== Top Bar ===== */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(10,12,16,.55);
      border-bottom:1px solid var(--stroke);
    }
    .topbar .wrap{
      max-width:var(--max);
      margin:0 auto;
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      display:flex; align-items:center; gap:10px;
      min-width: 240px;
    }
    .brandMark{
      width:38px; height:38px;
      border-radius: 14px;
      display:grid; place-items:center;
      background:
        radial-gradient(70% 70% at 30% 20%, rgba(247,215,122,.55), rgba(255,255,255,.08)),
        linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
      border:1px solid var(--stroke2);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      font-weight:800;
      letter-spacing:.5px;
    }
    .brandText{
      display:flex; flex-direction:column; line-height:1.1;
    }
    .brandText b{ font-size:14px; letter-spacing:.3px; }
    .brandText span{ font-size:12px; color:var(--muted); }

    .actions{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }

    .btn{
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.06);
      color:var(--text);
      border-radius: 999px;
      padding:10px 14px;
      font-weight:600;
      font-size:13px;
      cursor:pointer;
      transition: transform .15s ease, background .2s ease, border-color .2s ease;
      display:inline-flex; align-items:center; gap:8px;
      user-select:none;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.09);
      border-color: rgba(255,255,255,.22);
    }
    .btn:active{ transform: translateY(0px) scale(.99); }

    .btnGold{
      border: 1px solid rgba(247,215,122,.35);
      background: linear-gradient(135deg, rgba(247,215,122,.18), rgba(202,166,74,.10));
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: var(--gold1);
      box-shadow: 0 0 0 4px rgba(247,215,122,.12);
    }

    /* ===== Layout ===== */
    .container{
      max-width:var(--max);
      margin:0 auto;
      padding: 18px 16px 90px;
    }

    .hero{
      margin-top:16px;
      padding: 26px 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border:1px solid var(--stroke);
      border-radius: var(--r2);
      box-shadow: var(--shadow2);
      position:relative;
      overflow:hidden;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(550px 180px at 30% 0%, rgba(247,215,122,.18), transparent 60%);
      pointer-events:none;
    }
    .hero h1{
      margin:0 0 8px;
      font-size:34px;
      letter-spacing:.2px;
    }
    .hero p{
      margin:0;
      color:var(--muted);
      max-width: 820px;
      line-height:1.45;
      font-size:14px;
    }

    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:14px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
      .brand{ min-width:auto; }
    }

    /* ===== Category Card ===== */
    .card{
      position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border:1px solid var(--stroke);
      border-radius: var(--r2);
      box-shadow: var(--shadow2);
      overflow:hidden;
      transform: translateZ(0);
      transition: transform .18s ease, border-color .2s ease;
    }
    .card:hover{
      transform: translateY(-3px);
      border-color: rgba(247,215,122,.22);
    }
    .cardGlow{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(420px 220px at 20% 0%, rgba(247,215,122,.16), transparent 55%),
        radial-gradient(420px 260px at 90% 10%, rgba(246,239,231,.10), transparent 60%);
      opacity:.0;
      transition: opacity .2s ease;
      pointer-events:none;
    }
    .card:hover .cardGlow{ opacity: 1; }

    .cardHeader{
      padding: 14px 14px 0;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .tag{
      font-size:12px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.18);
      color: rgba(233,236,242,.86);
    }
    .tagRight{
      border-color: rgba(247,215,122,.25);
      background: rgba(247,215,122,.10);
      color: rgba(247,215,122,.92);
    }

    .cardBody{
      padding: 12px 14px 14px;
      display:grid;
      grid-template-columns: 230px 1fr;
      gap: 14px;
      align-items:center;
    }
    @media (max-width: 520px){
      .cardBody{ grid-template-columns: 1fr; }
    }

    .logoWrap{
      border-radius: 16px;
      border:1px dashed rgba(255,255,255,.16);
      background:
        linear-gradient(135deg, rgba(255,255,255,.07), rgba(255,255,255,.02));
      padding:14px;
      display:flex; align-items:center; justify-content:center;
      min-height: 240px;
      position:relative;
      overflow:hidden;
    }

    .logoWrap img{
      width: 100%;
      max-width: 240px;
      height: auto;
      border-radius: 14px;
      box-shadow: 0 18px 55px rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.10);
      background:#111;
      display:block;
    }

    .desc h2{
      margin:0 0 6px;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .desc p{
      margin:0 0 12px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    .rowBtns{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center;
    }

    .btnPrimary{
      border-color: rgba(247,215,122,.28);
      background: linear-gradient(135deg, rgba(247,215,122,.16), rgba(202,166,74,.10));
    }

    /* ===== Products (expandable) ===== */
    .products{
      border-top:1px solid rgba(255,255,255,.08);
      padding: 14px;
      display:none;
    }
    .products.open{ display:block; }

    .prodGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:12px;
    }
    @media (max-width: 980px){ .prodGrid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 560px){ .prodGrid{ grid-template-columns: 1fr; } }

    .prod{
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      padding: 12px;
      position:relative;
      overflow:hidden;
      transition: transform .15s ease, border-color .2s ease, background .2s ease;
    }
    .prod:hover{
      transform: translateY(-2px);
      border-color: rgba(247,215,122,.22);
      background: rgba(255,255,255,.06);
    }
    .prodTop{
      display:flex; justify-content:space-between; gap:10px; align-items:flex-start;
      margin-bottom:8px;
    }
    .prodTitle{
      font-weight:700;
      font-size:13px;
      letter-spacing:.2px;
    }
    .price{
      font-weight:800;
      color: rgba(247,215,122,.92);
      font-size:13px;
      white-space:nowrap;
    }
    .prodMeta{
      font-size:12px;
      color: var(--muted);
      line-height:1.4;
      margin-bottom:10px;
      min-height: 34px;
    }
    .prodActions{
      display:flex; justify-content:space-between; align-items:center; gap:10px;
    }
    .qty{
      display:flex; align-items:center; gap:8px;
      color: rgba(233,236,242,.85);
      font-size:12px;
    }
    .tiny{
      padding:8px 10px;
      font-size:12px;
    }

    /* ===== WhatsApp Section ===== */
    .waBox{
      margin-top:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: var(--r2);
      padding: 14px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .waText{
      display:flex; flex-direction:column; gap:4px;
    }
    .waText b{ font-size:14px; }
    .waText span{ font-size:12px; color:var(--muted); }

    .waForm{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .input{
      width: 290px;
      max-width: 80vw;
      padding: 11px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: var(--text);
      outline:none;
    }
    .input:focus{
      border-color: rgba(247,215,122,.30);
      box-shadow: 0 0 0 4px rgba(247,215,122,.10);
    }

    /* ===== Floating WhatsApp ===== */
    .waFloat{
      position: fixed;
      right: 16px;
      bottom: 16px;
      z-index: 100;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .waPill{
      border-radius: 999px;
      padding: 10px 12px;
      border: 1px solid rgba(247,215,122,.28);
      background: linear-gradient(135deg, rgba(247,215,122,.18), rgba(202,166,74,.10));
      box-shadow: 0 18px 45px rgba(0,0,0,.45);
      cursor:pointer;
      user-select:none;
      font-weight:800;
      font-size:13px;
      display:flex; align-items:center; gap:8px;
    }
    .waPill small{
      font-weight:700;
      opacity:.9;
    }

    /* ===== Cart Drawer ===== */
    .cartBtn{
      position:relative;
    }
    .badge{
      position:absolute;
      top:-6px; right:-6px;
      min-width:18px; height:18px;
      padding:0 5px;
      border-radius:999px;
      background: rgba(247,215,122,.92);
      color:#151515;
      font-size:12px;
      font-weight:900;
      display:grid; place-items:center;
      border:1px solid rgba(0,0,0,.25);
    }

    .drawerOverlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(3px);
      display:none;
      z-index:120;
    }
    .drawerOverlay.open{ display:block; }

    .drawer{
      position:fixed;
      top:0; right:0;
      width: 390px;
      max-width: 92vw;
      height:100%;
      background: rgba(14,16,22,.88);
      border-left: 1px solid rgba(255,255,255,.10);
      box-shadow: -30px 0 80px rgba(0,0,0,.60);
      transform: translateX(105%);
      transition: transform .22s ease;
      z-index: 130;
      display:flex;
      flex-direction:column;
    }
    .drawer.open{ transform: translateX(0%); }

    .drawerHeader{
      padding: 14px 14px 10px;
      display:flex; align-items:center; justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .drawerHeader b{ font-size:14px; }
    .drawerHeader span{ font-size:12px; color:var(--muted); }

    .drawerBody{
      padding: 12px 14px;
      overflow:auto;
      flex:1;
    }

    .cartItem{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 16px;
      padding: 10px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      justify-content:space-between;
      margin-bottom:10px;
    }
    .cartItem .left{
      display:flex; flex-direction:column; gap:4px;
    }
    .cartItem .name{ font-weight:800; font-size:13px; }
    .cartItem .sub{ color:var(--muted); font-size:12px; }
    .cartItem .right{
      display:flex; flex-direction:column; align-items:flex-end; gap:8px;
    }

    .drawerFooter{
      border-top:1px solid rgba(255,255,255,.10);
      padding: 12px 14px 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .totalRow{
      display:flex; align-items:center; justify-content:space-between;
      font-weight:900;
    }
    .hint{
      font-size:12px;
      color: var(--muted);
      line-height:1.4;
    }

    footer{
      margin-top:18px;
      text-align:center;
      color: rgba(233,236,242,.55);
      font-size:12px;
      padding: 18px 0 0;
    }
  </style>
</head>

<body>
  <!-- TOP BAR -->
  <div class="topbar">
    <div class="wrap">
      <div class="brand">
        <div class="brandMark">V</div>
        <div class="brandText">
          <b>Velora Store</b>
          <span>Bebek & √áocuk Giyim ‚Ä¢ Oto Aksesuar</span>
        </div>
      </div>

      <div class="actions">
        <button class="btn btnGold" id="goWhatsAppStore" type="button">
          <span class="dot"></span>
          WhatsApp (Maƒüaza)
        </button>

        <button class="btn" id="scrollCats" type="button">Kategoriler</button>

        <button class="btn cartBtn" id="openCart" type="button">
          üõí Sepet
          <span class="badge" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- HERO -->
    <section class="hero">
      <h1>Modern, ≈ûƒ±k ve Hƒ±zlƒ±</h1>
      <p>
        Velora Store i√ßin iki kategoriyi tek sayfada ‚Äúmarka hissi‚Äù veren bir tasarƒ±mla topladƒ±k.
        A≈üaƒüƒ±daki kartlardan kategori a√ßƒ±p √ºr√ºnleri g√∂rebilir, sepete ekleyebilir ve WhatsApp‚Äôtan sipari≈üe ge√ßebilirsin.
      </p>
    </section>

    <!-- CATEGORIES -->
    <section id="kategoriler" class="grid" aria-label="Kategoriler">
      <!-- Bebek -->
      <div class="card" data-cat="bebek">
        <div class="cardGlow"></div>
        <div class="cardHeader">
          <div class="tag">Bebek & √áocuk</div>
          <div class="tag tagRight">Krem Tema</div>
        </div>

        <div class="cardBody">
          <div class="logoWrap" style="background: linear-gradient(135deg, rgba(246,239,231,.18), rgba(233,220,203,.08));">
            <img src="velora-bebek.jpg" alt="Velora Bebek & √áocuk Logo">
          </div>

          <div class="desc">
            <h2>Bebek & √áocuk Giyim</h2>
            <p>
              Yumu≈üak, sƒ±cak tonlar ve premium kart d√ºzeni. √úr√ºnleri a≈üaƒüƒ±da a√ßƒ±p sepete ekleyebilirsin.
            </p>
            <div class="rowBtns">
              <button class="btn btnPrimary" type="button" data-toggle="bebek">Kategoriyi A√ß</button>
              <button class="btn" type="button" data-wa="bebek">WhatsApp‚Äôtan Sor</button>
            </div>
          </div>
        </div>

        <div class="products" id="prod-bebek">
          <div class="prodGrid" id="grid-bebek"></div>
        </div>
      </div>

      <!-- Oto -->
      <div class="card" data-cat="oto">
        <div class="cardGlow"></div>
        <div class="cardHeader">
          <div class="tag">Oto Aksesuar</div>
          <div class="tag tagRight">Siyah/Altƒ±n Tema</div>
        </div>

        <div class="cardBody">
          <div class="logoWrap" style="background: linear-gradient(135deg, rgba(247,215,122,.14), rgba(0,0,0,.22));">
            <img src="velora-oto.jpg" alt="Velora Oto Logo">
          </div>

          <div class="desc">
            <h2>Oto Aksesuar</h2>
            <p>
              Siyah zemin + altƒ±n vurgularla ‚Äúpremium‚Äù g√∂r√ºnt√º. √úr√ºnleri a≈üaƒüƒ±dan a√ßƒ±p sepete ekleyebilirsin.
            </p>
            <div class="rowBtns">
              <button class="btn btnPrimary" type="button" data-toggle="oto">Kategoriyi A√ß</button>
              <button class="btn" type="button" data-wa="oto">WhatsApp‚Äôtan Sor</button>
            </div>
          </div>
        </div>

        <div class="products" id="prod-oto">
          <div class="prodGrid" id="grid-oto"></div>
        </div>
      </div>
    </section>

    <!-- WHATSAPP INPUT -->
    <section class="waBox" aria-label="WhatsApp ile ileti≈üim">
      <div class="waText">
        <b>WhatsApp ile ƒ∞leti≈üim</b>
        <span>Numara formatƒ±: <b>90</b> ile ba≈ülasƒ±n (√∂rn: 905xxxxxxxxx). Yaz ‚Üí WhatsApp konu≈ümasƒ± a√ßƒ±lƒ±r.</span>
      </div>

      <div class="waForm">
        <input class="input" id="waNumber" placeholder="√ñrn: 905XXXXXXXXX" inputmode="numeric" />
        <button class="btn btnGold" id="waWrite" type="button">WhatsApp‚Äôtan Yaz</button>
      </div>
    </section>

    <footer>¬© <span id="year"></span> Velora Store ‚Äî T√ºm Haklarƒ± Saklƒ±dƒ±r</footer>
  </div>

  <!-- FLOATING WHATSAPP -->
  <div class="waFloat">
    <div class="waPill" id="waFloatBtn" title="WhatsApp'tan yaz">
      üí¨ <small>WhatsApp</small>
    </div>
  </div>

  <!-- CART DRAWER -->
  <div class="drawerOverlay" id="overlay"></div>
  <aside class="drawer" id="drawer" aria-label="Sepet">
    <div class="drawerHeader">
      <div>
        <b>Sepet</b><br>
        <span>√úr√ºnleri d√ºzenle ‚Ä¢ Toplamƒ± g√∂r ‚Ä¢ WhatsApp‚Äôa g√∂nder</span>
      </div>
      <button class="btn tiny" id="closeCart" type="button">Kapat</button>
    </div>

    <div class="drawerBody" id="cartList"></div>

    <div class="drawerFooter">
      <div class="totalRow">
        <span>Toplam</span>
        <span id="cartTotal">‚Ç∫0</span>
      </div>

      <button class="btn btnGold" id="sendCartWa" type="button">Sepeti WhatsApp‚Äôtan G√∂nder</button>
      <button class="btn" id="clearCart" type="button">Sepeti Temizle</button>

      <div class="hint">
        ƒ∞pucu: √ústteki ‚ÄúWhatsApp (Maƒüaza)‚Äù butonu sabittir. ƒ∞stersen <b>STORE_WHATSAPP</b> deƒüerini kendi numaranla deƒüi≈ütir.
      </div>
    </div>
  </aside>

  <script>
    // =======================
    // AYARLAR
    // =======================
    const STORE_WHATSAPP = "905300882492"; // <-- burayƒ± kendi maƒüaza numaranla deƒüi≈ütir (90 ile)
    const CURRENCY = "‚Ç∫";

    // Demo √ºr√ºnler (istersen fiyat/isimleri deƒüi≈ütir)
    const PRODUCTS = {
      bebek: [
        { id:"b1", name:"Kƒ±z Bebek Takƒ±m", price: 449, desc:"Yumu≈üak kuma≈ü, g√ºnl√ºk kullanƒ±m." },
        { id:"b2", name:"Erkek Bebek Zƒ±bƒ±n Set", price: 299, desc:"3‚Äôl√º set, rahat kalƒ±p." },
        { id:"b3", name:"√áocuk Kap√º≈üonlu Sweat", price: 379, desc:"Mevsimlik, modern renk." },
        { id:"b4", name:"√áocuk Pijama Takƒ±mƒ±", price: 259, desc:"Konforlu, nefes alan doku." },
        { id:"b5", name:"Bebek Battaniye", price: 219, desc:"Krem ton, sade ≈üƒ±klƒ±k." },
        { id:"b6", name:"√áocuk ≈ûapka", price: 149, desc:"Hafif, g√ºnl√ºk kullanƒ±m." },
      ],
      oto: [
        { id:"o1", name:"Markaya √ñzel Sibop Kapaƒüƒ±", price: 199, desc:"Premium g√∂r√ºn√ºm, saƒülam yapƒ±." },
        { id:"o2", name:"Ara√ß ƒ∞√ßi Organizer", price: 349, desc:"D√ºzen, pratik kullanƒ±m." },
        { id:"o3", name:"Telefon Tutucu", price: 289, desc:"G√º√ßl√º tutu≈ü, ≈üƒ±k tasarƒ±m." },
        { id:"o4", name:"Direksiyon Kƒ±lƒ±fƒ±", price: 329, desc:"Konfor + estetik." },
        { id:"o5", name:"Bagaj D√ºzenleyici", price: 399, desc:"Geni≈ü hacim, premium." },
        { id:"o6", name:"Ara√ß Kokusu", price: 129, desc:"Kalƒ±cƒ± koku, modern." },
      ]
    };

    // =======================
    // SEPET (localStorage)
    // =======================
    const CART_KEY = "velora_cart_v1";
    const getCart = () => {
      try { return JSON.parse(localStorage.getItem(CART_KEY)) || {}; }
      catch { return {}; }
    };
    const setCart = (obj) => localStorage.setItem(CART_KEY, JSON.stringify(obj));

    const formatMoney = (n) => `${CURRENCY}${Number(n).toLocaleString("tr-TR")}`;

    function cartCount(cart){
      return Object.values(cart).reduce((a,b)=>a+(b.qty||0),0);
    }
    function cartTotal(cart){
      return Object.values(cart).reduce((a,b)=>a+(b.qty*b.price),0);
    }

    function addToCart(item){
      const cart = getCart();
      if(!cart[item.id]){
        cart[item.id] = { id:item.id, name:item.name, price:item.price, qty:1 };
      } else {
        cart[item.id].qty += 1;
      }
      setCart(cart);
      renderCart();
      openCart();
    }

    function decFromCart(id){
      const cart = getCart();
      if(!cart[id]) return;
      cart[id].qty -= 1;
      if(cart[id].qty <= 0) delete cart[id];
      setCart(cart);
      renderCart();
    }

    function incFromCart(id){
      const cart = getCart();
      if(!cart[id]) return;
      cart[id].qty += 1;
      setCart(cart);
      renderCart();
    }

    function clearCart(){
      setCart({});
      renderCart();
    }

    // =======================
    // WHATSAPP
    // =======================
    function sanitizeNumber(s){
      return (s||"").replace(/\D/g,""); // sadece rakam
    }
    function ensure90(n){
      const num = sanitizeNumber(n);
      if(num.startsWith("90")) return num;
      // kullanƒ±cƒ± 5 ile yazdƒ±ysa TR i√ßin 90 ekle (√∂rnek kolaylƒ±k)
      if(num.startsWith("5")) return "90"+num;
      return num; // olduƒüu gibi
    }

    function openWhatsApp(number, message){
      const num = ensure90(number);
      if(!num || num.length < 11){
        alert("L√ºtfen WhatsApp numarasƒ±nƒ± 90 ile ba≈ülayacak ≈üekilde gir (√∂rn: 905xxxxxxxxx).");
        return;
      }
      const url = `https://wa.me/${num}?text=${encodeURIComponent(message||"Merhaba")}`;
      window.open(url, "_blank");
    }

    // =======================
    // UI RENDER
    // =======================
    const yearEl = document.getElementById("year");
    yearEl.textContent = new Date().getFullYear();

    // Kategorilere √ºr√ºnleri bas
    function renderProducts(){
      const gb = document.getElementById("grid-bebek");
      const go = document.getElementById("grid-oto");

      gb.innerHTML = PRODUCTS.bebek.map(p => prodCardHTML(p, "bebek")).join("");
      go.innerHTML = PRODUCTS.oto.map(p => prodCardHTML(p, "oto")).join("");

      // Event delegation: √ºr√ºn butonlarƒ±
      document.addEventListener("click", (e)=>{
        const btn = e.target.closest("[data-add]");
        if(btn){
          const id = btn.getAttribute("data-add");
          const cat = btn.getAttribute("data-cat");
          const item = PRODUCTS[cat].find(x=>x.id===id);
          if(item) addToCart(item);
        }
      });
    }

    function prodCardHTML(p, cat){
      return `
        <div class="prod">
          <div class="prodTop">
            <div class="prodTitle">${escapeHtml(p.name)}</div>
            <div class="price">${formatMoney(p.price)}</div>
          </div>
          <div class="prodMeta">${escapeHtml(p.desc)}</div>
          <div class="prodActions">
            <div class="qty">üßæ <span>Sepete ekle</span></div>
            <button class="btn tiny btnPrimary" data-cat="${cat}" data-add="${p.id}" type="button">+ Ekle</button>
          </div>
        </div>
      `;
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // Kategori a√ß/kapat
    function toggleCat(cat){
      const box = document.getElementById(`prod-${cat}`);
      const isOpen = box.classList.contains("open");
      box.classList.toggle("open", !isOpen);

      // buton text g√ºncelle
      document.querySelectorAll(`[data-toggle="${cat}"]`).forEach(b=>{
        b.textContent = isOpen ? "Kategoriyi A√ß" : "Kategoriyi Kapat";
      });

      // a√ßtƒ±ysa scroll
      if(!isOpen){
        box.scrollIntoView({ behavior:"smooth", block:"start" });
      }
    }

    // Sepet drawer
    const overlay = document.getElementById("overlay");
    const drawer = document.getElementById("drawer");
    const cartList = document.getElementById("cartList");
    const cartCountEl = document.getElementById("cartCount");
    const cartTotalEl = document.getElementById("cartTotal");

    function openCart(){
      overlay.classList.add("open");
      drawer.classList.add("open");
    }
    function closeCart(){
      overlay.classList.remove("open");
      drawer.classList.remove("open");
    }

    function renderCart(){
      const cart = getCart();
      const items = Object.values(cart);

      cartCountEl.textContent = cartCount(cart);
      cartTotalEl.textContent = formatMoney(cartTotal(cart));

      if(items.length === 0){
        cartList.innerHTML = `
          <div class="hint">
            Sepetin bo≈ü. √úr√ºn kartlarƒ±ndan <b>+ Ekle</b> diyerek ba≈ülayabilirsin.
          </div>
        `;
        return;
      }

      cartList.innerHTML = items.map(it => `
        <div class="cartItem">
          <div class="left">
            <div class="name">${escapeHtml(it.name)}</div>
            <div class="sub">${formatMoney(it.price)} ‚Ä¢ Adet: ${it.qty}</div>
          </div>
          <div class="right">
            <div class="price">${formatMoney(it.price * it.qty)}</div>
            <div class="rowBtns">
              <button class="btn tiny" data-dec="${it.id}" type="button">‚àí</button>
              <button class="btn tiny btnPrimary" data-inc="${it.id}" type="button">+</button>
            </div>
          </div>
        </div>
      `).join("");
    }

    // Sepet butonlarƒ± (delegation)
    document.addEventListener("click", (e)=>{
      const dec = e.target.closest("[data-dec]");
      const inc = e.target.closest("[data-inc]");
      if(dec) decFromCart(dec.getAttribute("data-dec"));
      if(inc) incFromCart(inc.getAttribute("data-inc"));
    });

    // WhatsApp mesaj ≈üablonlarƒ±
    function categoryMessage(cat){
      if(cat === "bebek") return "Merhaba, Bebek & √áocuk Giyim kategorisinden bilgi almak istiyorum.";
      if(cat === "oto") return "Merhaba, Oto Aksesuar kategorisinden bilgi almak istiyorum.";
      return "Merhaba, bilgi almak istiyorum.";
    }

    function cartMessage(){
      const cart = getCart();
      const items = Object.values(cart);
      if(items.length === 0) return "Merhaba, bilgi almak istiyorum.";

      const lines = items.map(i => `‚Ä¢ ${i.name} x${i.qty} = ${formatMoney(i.price*i.qty)}`);
      const total = formatMoney(cartTotal(cart));
      return `Merhaba, sipari≈ü i√ßin:\n${lines.join("\n")}\n\nToplam: ${total}\n\nAdres / teslimat detaylarƒ±nƒ± payla≈üabilir misiniz?`;
    }

    // =======================
    // EVENTS
    // =======================
    document.querySelectorAll("[data-toggle]").forEach(btn=>{
      btn.addEventListener("click", ()=> toggleCat(btn.getAttribute("data-toggle")));
    });

    document.querySelectorAll("[data-wa]").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const cat = btn.getAttribute("data-wa");
        openWhatsApp(STORE_WHATSAPP, categoryMessage(cat));
      });
    });

    document.getElementById("goWhatsAppStore").addEventListener("click", ()=>{
      openWhatsApp(STORE_WHATSAPP, "Merhaba, Velora Store hakkƒ±nda bilgi almak istiyorum.");
    });

    document.getElementById("scrollCats").addEventListener("click", ()=>{
      document.getElementById("kategoriler").scrollIntoView({ behavior:"smooth", block:"start" });
    });

    document.getElementById("openCart").addEventListener("click", openCart);
    document.getElementById("closeCart").addEventListener("click", closeCart);
    overlay.addEventListener("click", closeCart);

    document.getElementById("clearCart").addEventListener("click", ()=>{
      if(confirm("Sepet temizlensin mi?")) clearCart();
    });

    document.getElementById("sendCartWa").addEventListener("click", ()=>{
      openWhatsApp(STORE_WHATSAPP, cartMessage());
    });

    // WhatsApp input
    const waInput = document.getElementById("waNumber");
    document.getElementById("waWrite").addEventListener("click", ()=>{
      const num = waInput.value.trim();
      openWhatsApp(num, "Merhaba, Velora Store ile g√∂r√º≈ümek istiyorum.");
    });

    // Floating WhatsApp: kullanƒ±cƒ± numarasƒ± varsa ona, yoksa maƒüazaya
    document.getElementById("waFloatBtn").addEventListener("click", ()=>{
      const entered = waInput.value.trim();
      if(entered) openWhatsApp(entered, "Merhaba, Velora Store ile g√∂r√º≈ümek istiyorum.");
      else openWhatsApp(STORE_WHATSAPP, "Merhaba, Velora Store ile g√∂r√º≈ümek istiyorum.");
    });

    // ƒ∞lk y√ºkleme
    renderProducts();
    renderCart();
  </script>
</body>
</html>
